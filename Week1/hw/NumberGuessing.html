<!DOCTYPE html>
<html>
<head>
    <title>Number Guessing Game in HTML</title>
    <h1>Number Guesing Game in HTML</h1>
</head>
<body>
    <p>The number you guess is between 0 and 100</p>
    <div id="message"></div>
    <input type="number" id="number">
    <button id="guessButton">Guess</button>
    <div id="pastGuess"></div>

    <style>
        .true {
            display: inline;
            background-color: green;
        }
        .false {
            display: inline;
            background-color: red;
        }
    </style>

    <script>
        let button = document.getElementById('guessButton');
        let tries = 0;
        let randomNumber = Math.floor(Math.random() * 100);
        let pastGuess = [];
        function reset() {
            tries = 0;
            randomNumber = Math.floor(Math.random() * 100);
            pastGuess = [];
        }
        button.addEventListener('click', function() {
            tries += 1;
            let userGuess = parseInt(document.getElementById('number').value);
            pastGuess.push(userGuess);
            if (userGuess === randomNumber) {
                var innerMessage = tries === 1? "1 try": `${tries} tries`;
                document.getElementById('message').innerHTML =
                    `<p class="true">Congratulation! ${randomNumber} was the correct 
                    answer! It took you ${innerMessage} to guess the answer</p>`;
            }
            else {
                var innerMessage = userGuess > randomNumber? "high": "low";
                var innerMessage2 = tries === 9? "1 guess": (
                    tries === 10? "no guess": `${10 - tries} guesses`
                );
                document.getElementById('message').innerHTML = 
                    `<p class="false">Sorry your guess is too ${innerMessage}. 
                    Your have ${innerMessage2} left</p>`;
            }
            if (tries == 10) console.log("Guesses reach 10");
            var pastGuessMessage = tries === 10?`The correct answer is ${randomNumber}. `:"";
            pastGuessMessage += "Your last guess(es) are: ";
            pastGuess.forEach(element => pastGuessMessage += `${element.toString()} `);
            document.getElementById('pastGuess').innerHTML = 
                pastGuessMessage;
            if (userGuess === randomNumber || tries === 10)
                reset();
        });
    </script>
</body>
</html>